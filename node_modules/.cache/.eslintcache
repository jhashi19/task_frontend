[{"/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/index.js":"1","/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/App.jsx":"2","/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/login/Login.jsx":"3","/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/reducers/loginReducer.js":"4","/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/actions/actionTypes.js":"5","/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/Router.jsx":"6","/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/tasks/Task.jsx":"7"},{"size":209,"mtime":1623325446283,"results":"8","hashOfConfig":"9"},{"size":103,"mtime":1623592305390,"results":"10","hashOfConfig":"9"},{"size":7158,"mtime":1623678691450,"results":"11","hashOfConfig":"9"},{"size":1120,"mtime":1623677299470,"results":"12","hashOfConfig":"9"},{"size":385,"mtime":1623506688387,"results":"13","hashOfConfig":"9"},{"size":462,"mtime":1623592332830,"results":"14","hashOfConfig":"9"},{"size":116,"mtime":1623509013627,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"1xxzjy",{"filePath":"19","messages":"20","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"23"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"18"},"/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/index.js",[],["32","33"],"/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/App.jsx",[],"/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/login/Login.jsx",["34","35"],"import React, { useReducer } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport axios from 'axios';\nimport { useCookies } from 'react-cookie';\n\nimport loginReducer from '../../reducers/loginReducer';\nimport {\n  START_FETCH,\n  FETCH_SUCCESS,\n  ERROR_CATCHED,\n  INPUT_LOGIN,\n  INPUT_SIGNUP,\n  TOGGLE_MODE\n} from '../../actions/actionTypes';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n  link: {\n    cursor: 'pointer',\n  },\n}));\n\nconst initialState = {\n  isLoading: false,\n  isLoginView: true,\n  error: '',\n  credentialsLogin: {\n    username: '',\n    password: '',\n  },\n  credentialsSignup: {\n    username: '',\n    password: '',\n  },\n};\n\nconst Login = () => {\n  const classes = useStyles();\n  const [state, dispatch] = useReducer(loginReducer, initialState);\n  const [cookie, setCookie, removeCookie] = useCookies(['userToken']);\n\n  const handelOnChangeCredentialsLogin = () => event => {\n    dispatch({\n      type: INPUT_LOGIN,\n      field: event.target.name,\n      payload: event.target.value,\n    });\n  };\n\n  const handelOnChangeCredentialsSignup = () => event => {\n    dispatch({\n      type: INPUT_SIGNUP,\n      field: event.target.name,\n      payload: event.target.value,\n    });\n  };\n\n  const loginOrSignup = async (event) => {\n    event.preventDefault();\n    if (state.isLoginView) {\n      try {\n        dispatch({ type: START_FETCH });\n\n        const res = await axios.post('http://localhost:8000/api/v1/auth/jwt/create/', state.credentialsLogin, {\n          headers: { 'Content-Type': 'application/json' }\n        });\n\n        const userToken = res.data.token;\n        setCookie('userToken', userToken, { path: '/' });\n        userToken ? window.location.href = '/tasks' : window.location.href = '/';\n\n        dispatch({ type: FETCH_SUCCESS });\n\n      } catch (e) {\n        console.error(e.stack);\n        dispatch({ ERROR_CATCHED });\n      };\n    } else {\n      try {\n        dispatch({ type: START_FETCH });\n        await axios.post('http://localhost:8000/api/v1/accounts/create/', state.credentialsSignup, {\n          headers: { 'Content-Type': 'application/json' }\n        });\n\n        dispatch({ type: FETCH_SUCCESS });\n        dispatch({ type: TOGGLE_MODE });\n\n      } catch (e) {\n        console.error(e.stack);\n        dispatch({ ERROR_CATCHED });\n      };\n    };\n  };\n\n  const toggleView = () => {\n    dispatch({ type: TOGGLE_MODE });\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        {state.isLoading && <CircularProgress />}\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          {state.isLoginView ? 'Log In' : 'Sign Up'}\n        </Typography>\n        <form className={classes.form} onSubmit={loginOrSignup}>\n          {state.isLoginView ?\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"User Name\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              value={state.credentialsLogin.username}\n              onChange={handelOnChangeCredentialsLogin()}\n            />\n            :\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"username\"\n              label=\"User Name\"\n              name=\"username\"\n              autoComplete=\"username\"\n              autoFocus\n              value={state.credentialsSignup.username}\n              onChange={handelOnChangeCredentialsSignup()}\n            />\n          }\n          {state.isLoginView ?\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={state.credentialsLogin.password}\n              onChange={handelOnChangeCredentialsLogin()}\n            />\n            :\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={state.credentialsSignup.password}\n              onChange={handelOnChangeCredentialsSignup()}\n            />\n          }\n          {state.isLoginView ?\n            !state.credentialsLogin.username || !state.credentialsLogin.password ?\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                disabled\n              >\n                Log In\n              </Button>\n              :\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Log In\n              </Button>\n            :\n            !state.credentialsSignup.username || !state.credentialsSignup.password ?\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n                disabled\n              >\n                Sign Up\n              </Button>\n              :\n              <Button\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                className={classes.submit}\n              >\n                Sign Up\n              </Button>\n          }\n          <Grid container>\n            <Grid item>\n              <span className={classes.link} href=\"#\" variant=\"body2\" onClick={toggleView}>\n                {state.isLoginView ? \"Don't have an account? Sign Up\" : \"Back to Log in?\"}\n              </span>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n}\n\nexport default Login;\n","/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/reducers/loginReducer.js",[],"/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/actions/actionTypes.js",[],"/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/Router.jsx",[],"/home/joh/dev_app/python_dev/drf/django-library/djoser_drf_react/frontend/src/components/tasks/Task.jsx",[],{"ruleId":"36","replacedBy":"37"},{"ruleId":"38","replacedBy":"39"},{"ruleId":"40","severity":1,"message":"41","line":65,"column":10,"nodeType":"42","messageId":"43","endLine":65,"endColumn":16},{"ruleId":"40","severity":1,"message":"44","line":65,"column":29,"nodeType":"42","messageId":"43","endLine":65,"endColumn":41},"no-native-reassign",["45"],"no-negated-in-lhs",["46"],"no-unused-vars","'cookie' is assigned a value but never used.","Identifier","unusedVar","'removeCookie' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]